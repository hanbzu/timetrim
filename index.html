<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Timetrim</title>
    <style>
      .axis {
        cursor: default;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      .events circle {
        fill: rgba(155, 155, 155, 0.5);
      }
      .trim circle {
        fill: white;
        stroke: gray;
        stroke-width: 1;
      }
      .trim circle:hover {

      }
    </style>
  </head>
  <body>

    <div id="chart"></div>

    <!-- Placed at the end of the document so the pages load faster -->
    <script src="bower_components/d3/d3.min.js" charset="utf-8"></script>
    <script src="chart.js" charset="utf-8"></script>
    <script>
      var theChart = myChart()
        .domain([5, 24])
        .trim([10, 16])

      var example_data = [ 8.32, 9.45, 11.63, 11.75, 12.10, 13, 15.5, 16.34, 18.32, 20.43, 21.23 ]
      //theChart.events(example_data)
      d3.select('#chart').datum(example_data).call(theChart)

      window.setTimeout(function() {
          console.log("Auch!")
          theChart.trim([11, 13]).onUpdate(function() {
            console.log("New trim limits", theChart.trim())  
          })
          d3.select('#chart').datum(example_data).call(theChart)
        }, 1000)
      </script>
  </body>
</html>